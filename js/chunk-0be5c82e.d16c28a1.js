(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0be5c82e"],{"1c59":function(e,t,o){"use strict";o.r(t);var c=o("7a23");const a=e=>(Object(c["pushScopeId"])("data-v-6d8ca9ca"),e=e(),Object(c["popScopeId"])(),e),n=a(()=>Object(c["createElementVNode"])("div",{class:"page-title"},"Questions",-1)),i={class:"mb-24"},s=["onClick"],r={class:"time"},l={class:"title"},d={class:"images"};function b(e,t,o,a,b,u){const j=Object(c["resolveComponent"])("van-icon"),m=Object(c["resolveComponent"])("van-image"),O=Object(c["resolveComponent"])("van-loading"),p=Object(c["resolveComponent"])("van-button"),g=Object(c["resolveComponent"])("router-link"),f=Object(c["resolveComponent"])("SubLayout");return Object(c["openBlock"])(),Object(c["createBlock"])(f,{pageTitle:"Contact us",backRouter:e.backToUser},{default:Object(c["withCtx"])(()=>[n,Object(c["createElementVNode"])("div",i,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.dataList,t=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"card",onClick:Object(c["withModifiers"])(o=>e.goToQuestion(t.id),["stop"])},[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(j,{class:"mr-2",name:"clock",size:"18"}),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(t.create_datetime),1)]),Object(c["createElementVNode"])("div",l,Object(c["toDisplayString"])(t.title),1),Object(c["createElementVNode"])("div",d,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t.contexts,(o,a)=>(Object(c["openBlock"])(),Object(c["createBlock"])(m,{class:"image",width:"48",height:"48",src:"data:image/jpeg;base64,"+o,onClick:Object(c["withModifiers"])(o=>e.getImgPreview(t.id,a),["stop"])},null,8,["src","onClick"]))),256))])],8,s))),256))]),e.isLoading?(Object(c["openBlock"])(),Object(c["createBlock"])(O,{key:0,class:"flex justify-center m-20",type:"spinner",size:"60"})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(g,{to:{name:e.RouterNames.Contact}},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{class:"contact-btn"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Contact")]),_:1})]),_:1},8,["to"])]),_:1},8,["backRouter"])}o("14d9");var u=o("72f9"),j=o("b7f3"),m=o("c69a"),O=o("1e5b"),p=o("6605"),g=o("0ae8"),f=Object(c["defineComponent"])({name:"ContactList",components:{SubLayout:u["a"]},setup(){const e=Object(c["reactive"])({dataList:[],showImg:[],isLoading:!1,scrollY:0,currentPage:1,totalLength:50,noMoreLoading:!1}),t=async()=>{var t;e.isLoading=!0;const o=await m["a"].getFeedback({});e.dataList=o.data,e.totalLength=null===(t=o.pager)||void 0===t?void 0:t.total,e.isLoading=!1,window.addEventListener("scroll",r)},o=Object(p["e"])(),a=e=>{o.push({name:j["a"].ContactQuestion,params:{feedbackTicketId:Number(e)}})},n=(t,o)=>{const c="data:image/jpeg;base64,",a=[],n=e.dataList.filter(e=>e.id===t);n[0].contexts.forEach(e=>{let t=c+e;a.push(t)}),Object(g["a"])({images:a,startPosition:o})},i=async()=>{e.isLoading=!0;const t=await m["a"].getFeedback({page:e.currentPage});e.noMoreLoading=e.totalLength/10<e.currentPage,e.dataList.push(...t.data),e.isLoading=!1},s=()=>{o.push({name:j["a"].User})},r=t=>{if(window.innerHeight+window.scrollY-96>=document.body.offsetHeight){if(e.noMoreLoading)return console.log("no more loading"),void l();e.currentPage+=1,i()}},l=()=>{window.removeEventListener("scroll",r)};return Object(c["onMounted"])(()=>{t()}),{...Object(O["f"])(e),RouterNames:j["a"],goToQuestion:a,getImgPreview:n,backToUser:s}}}),v=(o("b374"),o("6b0d")),k=o.n(v);const w=k()(f,[["render",b],["__scopeId","data-v-6d8ca9ca"]]);t["default"]=w},"3f2f":function(e,t,o){"use strict";o("a25f")},"72f9":function(e,t,o){"use strict";var c=o("7a23");const a={id:"main"},n={class:"container"};function i(e,t,o,i,s,r){const l=Object(c["resolveComponent"])("van-nav-bar");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(l,{class:"mb-4","left-text":e.pageTitle,"left-arrow":"","safe-area-inset-top":"",border:!1,onClickLeft:e.backRouter},{right:Object(c["withCtx"])(()=>[Object(c["renderSlot"])(e.$slots,"navRight",{},void 0,!0)]),_:3},8,["left-text","onClickLeft"]),Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",n,[Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0)])])],64)}var s=Object(c["defineComponent"])({name:"SubLayout",slot:["navRight"],props:{pageTitle:{type:String,default:""},backRouter:{type:Function,default:()=>{window.history.back()}}}}),r=(o("3f2f"),o("6b0d")),l=o.n(r);const d=l()(s,[["render",i],["__scopeId","data-v-bec054d8"]]);t["a"]=d},a25f:function(e,t,o){},b374:function(e,t,o){"use strict";o("c8cf")},c8cf:function(e,t,o){}}]);