(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-483e105e"],{"3f2f":function(e,t,a){"use strict";a("a25f")},"5c42":function(e,t,a){},"72f9":function(e,t,a){"use strict";var c=a("7a23");const o={id:"main"},n={class:"container"};function s(e,t,a,s,r,l){const i=Object(c["resolveComponent"])("van-nav-bar");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(i,{class:"mb-4","left-text":e.pageTitle,"left-arrow":"","safe-area-inset-top":"",border:!1,onClickLeft:e.backRouter},{right:Object(c["withCtx"])(()=>[Object(c["renderSlot"])(e.$slots,"navRight",{},void 0,!0)]),_:3},8,["left-text","onClickLeft"]),Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",n,[Object(c["renderSlot"])(e.$slots,"default",{},void 0,!0)])])],64)}var r=Object(c["defineComponent"])({name:"SubLayout",slot:["navRight"],props:{pageTitle:{type:String,default:""},backRouter:{type:Function,default:()=>{window.history.back()}}}}),l=(a("3f2f"),a("6b0d")),i=a.n(l);const d=i()(r,[["render",s],["__scopeId","data-v-bec054d8"]]);t["a"]=d},9471:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o=e=>(Object(c["pushScopeId"])("data-v-d945aa28"),e=e(),Object(c["popScopeId"])(),e),n={class:"user-page"},s={class:"user-profile"},r={class:"info"},l={class:"info__box"},i=o(()=>Object(c["createElementVNode"])("div",{class:"title"},"Username",-1)),d={class:"value"},b={class:"info"},u=o(()=>Object(c["createElementVNode"])("div",{class:"info__box"},[Object(c["createElementVNode"])("div",{class:"title"},"Password")],-1)),j={class:"info"},O=o(()=>Object(c["createElementVNode"])("div",{class:"info__box"},[Object(c["createElementVNode"])("div",{class:"title"},"Fund Password")],-1)),m={class:"info"},p={class:"info__box"},f=o(()=>Object(c["createElementVNode"])("div",{class:"title"},"Phone",-1)),v={class:"value"},h={class:"info"},V={class:"info__box"},N=o(()=>Object(c["createElementVNode"])("div",{class:"title"},"E-mail",-1)),E={class:"value"},k={class:"sheet"},w={class:"sheet__content"},C={class:"option"},g=o(()=>Object(c["createElementVNode"])("div",{class:"white-box"},null,-1)),_=o(()=>Object(c["createElementVNode"])("span",{class:"text-white"},"Camera",-1)),S={class:"option"},y=o(()=>Object(c["createElementVNode"])("div",{class:"white-box"},null,-1)),x=o(()=>Object(c["createElementVNode"])("span",{class:"text-white"},"Photo",-1));function B(e,t,a,o,B,I){const P=Object(c["resolveComponent"])("van-image"),R=Object(c["resolveComponent"])("SvgIcon"),T=Object(c["resolveComponent"])("van-button"),U=Object(c["resolveComponent"])("SubLayout"),F=Object(c["resolveComponent"])("van-action-sheet");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(U,{pageTitle:"Settings",backRouter:e.backToUserCenter},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("article",n,[Object(c["createElementVNode"])("div",s,[e.$user.state.avatarURL?(Object(c["openBlock"])(),Object(c["createBlock"])(P,{key:0,width:"72",height:"72",src:"data:image/jpeg;base64,"+e.$user.state.avatarURL,fit:"cover",alt:"avatar",round:""},null,8,["src"])):(Object(c["openBlock"])(),Object(c["createBlock"])(R,{key:1,name:"member",size:72})),Object(c["createElementVNode"])("div",{class:"avatar-btn",onClick:t[0]||(t[0]=t=>e.editSheet=!e.editSheet)},[Object(c["createVNode"])(R,{name:"edit",size:24})])]),Object(c["createElementVNode"])("section",r,[Object(c["createElementVNode"])("div",l,[i,Object(c["createElementVNode"])("div",d,Object(c["toDisplayString"])(e.info.username),1)])]),Object(c["createElementVNode"])("section",b,[u,Object(c["createVNode"])(T,{class:"btn btn-tertiary",onClick:e.onClickPassword},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Edit")]),_:1},8,["onClick"])]),Object(c["createElementVNode"])("section",j,[O,Object(c["createVNode"])(T,{class:"btn btn-tertiary",onClick:e.onClickFundPassword},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.info.is_set_fund_password?"Edit":"Set"),1)]),_:1},8,["onClick"])]),Object(c["createElementVNode"])("section",m,[Object(c["createElementVNode"])("div",p,[f,Object(c["createElementVNode"])("div",v,Object(c["toDisplayString"])(e.info.phone_number),1)])]),Object(c["createElementVNode"])("section",h,[Object(c["createElementVNode"])("div",V,[N,Object(c["createElementVNode"])("div",E,Object(c["toDisplayString"])(e.info.email||" - "),1)]),e.info.is_email_verified?(Object(c["openBlock"])(),Object(c["createBlock"])(T,{key:0,class:"btn btn-tertiary"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Verified")]),_:1})):(Object(c["openBlock"])(),Object(c["createBlock"])(T,{key:1,class:"btn btn-tertiary",onClick:e.onClickEmail},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Verify")]),_:1},8,["onClick"]))])])]),_:1},8,["backRouter"]),Object(c["createVNode"])(F,{show:e.editSheet,"onUpdate:show":t[4]||(t[4]=t=>e.editSheet=t)},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",k,[Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("label",C,[g,_,Object(c["createElementVNode"])("input",{class:"hidden",type:"file",accept:"image/*",capture:"camera",onChange:t[1]||(t[1]=(...t)=>e.uploadImg&&e.uploadImg(...t))},null,32)]),Object(c["createElementVNode"])("label",S,[y,x,Object(c["createElementVNode"])("input",{class:"hidden",type:"file",accept:"image/*",onChange:t[2]||(t[2]=(...t)=>e.uploadImg&&e.uploadImg(...t))},null,32)])]),Object(c["createVNode"])(T,{class:"btn btn-tertiary",onClick:t[3]||(t[3]=t=>e.editSheet=!1)},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Cancel")]),_:1})])]),_:1},8,["show"])],64)}a("14d9");var I=a("72f9"),P=a("0032"),R=a("1e5b"),T=a("fd95"),U=a("b7f3"),F=a("c69a"),L=a("6c43"),D=a("4776"),$=Object(c["defineComponent"])({name:"Settings",components:{SvgIcon:P["a"],SubLayout:I["a"]},setup(){const e=Object(c["reactive"])({editSheet:!1,info:{}}),t=async t=>{try{await F["a"].putAvatar(t),e.editSheet=!1,await T["d"].appStore.updateAvatar(D["a"].upgrade)}catch(a){Object(L["a"])(a.data.message?a.data.message:a.data.error_msg)}},a=e=>new Promise((t,a)=>{const c=new FileReader;c.readAsDataURL(e),c.onload=()=>t(c.result),c.onerror=e=>a(e)}),o=e=>{const c=e.target.files[0];a(c).then(e=>{t({context:e}),L["a"].success("success")})},n=async()=>{const t=await F["a"].getUserInfo({});e.info=t.data};return Object(c["onMounted"])(()=>{n()}),{...Object(R["f"])(e),uploadImg:o,onClickPassword(){T["d"].router.push({name:U["a"].EditUserPassword})},onClickFundPassword(){T["d"].userStore.state.is_set_fund_password?T["d"].router.push({name:U["a"].EditFundPassword}):T["d"].router.push({name:U["a"].SetFundPassword})},onClickEmail(){T["d"].router.push({name:U["a"].VerifyEmail})},backToUserCenter(){T["d"].router.push({name:U["a"].User})}}}}),A=(a("96de"),a("6b0d")),z=a.n(A);const J=z()($,[["render",B],["__scopeId","data-v-d945aa28"]]);t["default"]=J},"96de":function(e,t,a){"use strict";a("5c42")},a25f:function(e,t,a){}}]);